wp.domReady(function(){new class{constructor(){this.observeGutenbergEditor(),this.debounce(this.waitForAuthorPanel,200)()}createNoticeElement(){var t=document.createElement("div");return t.className="molongui-post-authors-warning",t.textContent=molongui_authorship_block_editor_data.selector_notice,t}insertNoticeAfterAuthorSelector(){var t,o=document.querySelector(".post-author-selector");o&&!o.querySelector(".molongui-post-authors-warning")&&(t=this.createNoticeElement(),o.appendChild(t))}observeDomChanges(){var t,o,e=document.querySelector(".edit-post-sidebar");e&&(t={childList:!0,subtree:!0},o=this.throttle(()=>{this.insertNoticeAfterAuthorSelector()},200),new MutationObserver(o).observe(e,t))}waitForAuthorPanel=()=>{const t=setInterval(()=>{document.querySelector(".post-author-selector")&&(clearInterval(t),this.insertNoticeAfterAuthorSelector(),this.observeDomChanges())},100)};observeGutenbergEditor(){var t,o,e=document.querySelector("#editor");e&&(t={childList:!0,subtree:!0},o=this.throttle(()=>{this.debounce(this.waitForAuthorPanel,200)()},200),new MutationObserver(o).observe(e,t))}throttle(o,e){let s,r;return function(...t){r?(clearTimeout(s),s=setTimeout(function(){Date.now()-r>=e&&(o.apply(this,t),r=Date.now())},e-(Date.now()-r))):(o.apply(this,t),r=Date.now())}}debounce(e,s){let r;return function(...t){const o=this;clearTimeout(r),r=setTimeout(()=>e.apply(o,t),s)}}}}),function(t){const{subscribe:o,select:e,dispatch:u}=t.data,l=e("core/editor")["isSavingPost"];var{}=t.url;let c=!0;o(()=>{var t,o,e,s,r,a,i,n;l()?c=!1:c||(c=!0,t="ma_cannot_post_as_others",(o=wpCookies.get(t))?(u("core/notices").createNotice("error",o,{id:"cannot_post_as_others_notice",isDismissible:!0}),o=molongui_authorship_block_editor_data.author.id,e=molongui_authorship_block_editor_data.author.type,s=molongui_authorship_block_editor_data.author.ref,r=molongui_authorship_block_editor_data.author.avatar,a=molongui_authorship_block_editor_data.author.label,(n=(i=document.getElementById("molongui-post-authors").querySelector(".molongui-post-authors__list")).querySelector("#user-"+o))&&i.removeChild(n),(n=document.createElement("div")).setAttribute("id",s),n.setAttribute("data-author-id",o),n.setAttribute("data-author-type",e),n.setAttribute("data-author-ref",s),n.classList.add("molongui-post-authors__item","molongui-post-authors__item--user"),n.innerHTML='<div class="molongui-post-authors__row ui-sortable-handle"><div class="molongui-post-authors__avatar"><img src="'+r+'"></div><div class="molongui-post-authors__name" title="'+molongui_authorship_edit_post_params.tag_title+'">'+a+'</div><div class="molongui-post-authors__actions"><span class="dashicons dashicons-arrow-up-alt2 molongui-post-authors__up" title="'+molongui_authorship_edit_post_params.up_label+'"></span><span class="dashicons dashicons-arrow-down-alt2 molongui-post-authors__down" title="'+molongui_authorship_edit_post_params.down_label+'"></span><span class="dashicons dashicons-no-alt molongui-post-authors__delete" title="'+molongui_authorship_edit_post_params.delete_label+'"></span></div><input type="hidden" name="molongui_post_authors[]" value="'+s+'"></div>',i.insertBefore(n,i.firstChild),wpCookies.remove(t,"/")):u("core/notices").removeNotice("cannot_post_as_others_notice"))})}(window.wp);